"use strict";(self.webpackChunkecommerce_angular=self.webpackChunkecommerce_angular||[]).push([[194],{9194:(P,u,i)=>{i.r(u),i.d(u,{CartModule:()=>F});var c=i(6895),C=i(5861),m=i(6960),g=i(9646),t=i(1571),p=i(7743),d=i(7734),f=i(7862);let _=(()=>{class e{transform(n,r){return r&&n?n*r:n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"quantitySum",type:e,pure:!0}),e})();function h(e,o){if(1&e&&(t.TgZ(0,"div",5)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"currency"),t.ALo(6,"quantitySum"),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(2),t.Oqu(n.item.name),t.xp6(2),t.Oqu(t.lcZ(5,2,t.xi3(6,4,n.item.price,n.item.quantity)))}}function x(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"li",1),t.YNc(1,h,7,7,"div",2),t.TgZ(2,"div",3)(3,"app-counter-controls",4),t.NdJ("increment",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onIncrement())})("decrement",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onDecrement())}),t.qZA()()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.hideData),t.xp6(2),t.Q6J("counter",n.item.quantity)}}let y=(()=>{class e{constructor(){this.item=null,this.hideData=!1,this.decrement=new t.vpe,this.increment=new t.vpe,this.onDecrement=()=>this.decrement.emit(),this.onIncrement=()=>this.increment.emit()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-item"]],inputs:{item:"item",hideData:"hideData"},outputs:{decrement:"decrement",increment:"increment"},decls:1,vars:1,consts:[["class","cart-item",4,"ngIf"],[1,"cart-item"],["class","cart-item__data",4,"ngIf"],[1,"cart-item__controls"],[3,"counter","increment","decrement"],[1,"cart-item__data"]],template:function(n,r){1&n&&t.YNc(0,x,4,2,"li",0),2&n&&t.Q6J("ngIf",r.item)},dependencies:[c.O5,f.c,c.H9,_],styles:[".cart-item[_ngcontent-%COMP%]{gap:1rem;padding:10px;border-radius:5px;margin-bottom:15px;border:1px solid #ccc;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between}.cart-item__data[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem;margin-bottom:0;font-size:1rem;color:#666}.cart-item__data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.2em;color:#333}.cart-item__data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:100px;text-align:right}.cart-item__controls[_ngcontent-%COMP%]{flex:100%}"]}),e})();function v(e,o){1&e&&(t.TgZ(0,"div")(1,"p",2),t._uU(2,"Your cart is empty."),t.qZA(),t.TgZ(3,"a",3),t._uU(4," Search Products "),t.qZA()())}function M(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"app-cart-item",8),t.NdJ("increment",function(){const s=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.updateItem(s,"increment"))})("decrement",function(){const s=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.updateItem(s,"decrement"))}),t.qZA()}2&e&&t.Q6J("item",o.$implicit)}function T(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"ul",4),t.YNc(2,M,1,1,"app-cart-item",5),t.qZA(),t.TgZ(3,"div",6)(4,"h3"),t._uU(5),t.ALo(6,"currency"),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.buyNow())}),t._uU(9,"Proceed to checkout"),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.items),t.xp6(3),t.hij("Total: ",t.lcZ(6,2,t.lcZ(7,4,n.total$)),"")}}const Z=[{path:"",component:(()=>{class e{constructor(n,r,a){this.cartCoordinator=n,this.toastCoordinator=r,this.router=a,this.items=[],this.total$=(0,g.of)(0),this.total$=this.cartCoordinator.selectCartTotal$(),this.cart$$=this.cartCoordinator.selectCartItems$().subscribe(s=>{this.items=s})}ngOnDestroy(){this.cart$$?.unsubscribe()}clearCart(){this.cartCoordinator.clearCart()}updateItem(n,r){const a=n.quantity+("decrement"===r?-1:1);return a?this.cartCoordinator.addToCart(n,a):this.cartCoordinator.removeFromCart(n)}buyNow(){this.toastCoordinator.addMessage({message:"Thank you. Your checkout was completed successfully.",mode:"success"}),this.clearCart(),setTimeout(()=>this.router.navigate(["/"]),3e3)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.F),t.Y36(d.Z),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart-list"]],decls:6,vars:2,consts:[[1,"page-title"],[4,"ngIf"],[1,"empty-state"],["routerLink","/",1,"buy-button","button-link"],[1,"cart-list"],[3,"item","increment","decrement",4,"ngFor","ngForOf"],[1,"checkout"],[1,"buy-button",3,"click"],[3,"item","increment","decrement"]],template:function(n,r){1&n&&(t.TgZ(0,"section")(1,"header")(2,"h2",0),t._uU(3,"Shopping Cart"),t.qZA()(),t.YNc(4,v,5,0,"div",1),t.YNc(5,T,10,6,"ng-container",1),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngIf",!(null!=r.items&&r.items.length)),t.xp6(1),t.Q6J("ngIf",r.items.length))},dependencies:[c.sg,c.O5,m.yS,y,c.Ov,c.H9],styles:["section[_ngcontent-%COMP%]{padding:20px}.cart-items[_ngcontent-%COMP%]{display:flex;justify-content:center}.cart-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.cart-total[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px;border-top:1px solid #ccc;font-size:1.4em;font-weight:700;text-align:right;color:#333}.checkout[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:20px}.button-link[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center}"],changeDetection:0}),e})(),canActivate:[(()=>{class e{constructor(n,r,a){this.cartCoordinator=n,this.toastCoordinator=r,this.route=a,this.items=[],this.cart$$=this.cartCoordinator.selectCartItems$().subscribe(s=>{this.items=s})}ngOnDestroy(){this.cart$$?.unsubscribe()}canActivate(){return this.items.length||this.route.navigate(["/cart/not-found"]),Boolean(this.items.length)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(p.F),t.LFG(d.Z),t.LFG(m.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"**",loadChildren:(e=(0,C.Z)(function*(){return(yield i.e(65).then(i.bind(i,6065))).CartFallbackModule}),function(){return e.apply(this,arguments)})}];var e;let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(Z),m.Bz]}),e})();var O=i(8284);let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,I,O.B,m.Bz]}),e})()}}]);